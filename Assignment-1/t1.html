<!DOCTYPE html>
<html>

<head>
    <title>Student Details</title>
</head>

<body>

    <h2>All Student Names</h2>
    <ul id="nameList"></ul>

    <h2>Students with marks &gt; 60</h2>
    <ul id="marksAbove60"></ul>

    <h2>Department Count</h2>
    <ul id="deptCount"></ul>

    <h2>Student With Highest Mark</h2>
    <p id="highMark"></p>

    <h2>TO display in Table</h2>
    <table border="1" style="width: 100; border-collapse: collapse;">
        <thead>
            <tr>
                <th>Name</th>
                <th>Marks</th>
                <th>Department</th>

            </tr>
        </thead>
        <tbody id="tableBody">

        </tbody>
    </table>

    <h2>Average Marks</h2>
    <p id="avrgMark"></p>

    <h2>Only CSE Students</h2>
    <ul id="onlyCSE"></ul>

    <h2>Sort in Descending</h2>
    <ul id="sortArray"></ul>

    <h2>TO add a new Student</h2>
    <ul id="toAdd"></ul>

    <h2>Below Average Student</h2>
    <ul id="belowAvg"></ul>


    <script>
        const students = [
            { id: 1, name: "Amit", marks: 78, department: "CSE" },
            { id: 2, name: "Priya", marks: 92, department: "ECE" },
            { id: 3, name: "Rahul", marks: 45, department: "MECH" },
            { id: 4, name: "Sneha", marks: 66, department: "CSE" },
            { id: 5, name: "Kiran", marks: 88, department: "ECE" }
        ];

        //display names

        for (let i = 0; i < students.length; i++) {
            let li = document.createElement("li");
            li.innerText = students[i].name;
            document.getElementById("nameList").appendChild(li);
        }

        //with marks above 60

        for (let i = 0; i < students.length; i++) {
            if (students[i].marks > 60) {
                let li = document.createElement("li");
                li.innerText = students[i].name + " - " + students[i].marks;
                document.getElementById("marksAbove60").appendChild(li);
            }
        }

        // department count

        var deptCSE = 0
        var deptECE = 0
        var deptMECH = 0
        for (let i = 0; i < students.length; i++) {
            if (students[i].department == "CSE") {
                deptCSE++
            }
            else if (students[i].department == "ECE") {
                deptECE++
            }
            else {
                deptMECH++
            }

            document.getElementById("deptCount").innerHTML = "CSE : " + deptCSE + ", ECE :" + deptECE + ", MECH :" + deptMECH
        }

        //students with highest mark

        var marks = 0
        var name = null

        for (let i = 0; i < students.length; i++) {
            if (students[i].marks > marks) {
                marks = students[i].marks
                name = students[i].name
            }
        }

        document.getElementById("highMark").innerHTML = "Highest Mark = " + marks + " " + name

        //display in table format

        var tBody = document.getElementById("tableBody")
        tBody.innerHTML = ""

        for (let i = 0; i < students.length; i++) {
            let row = tBody.insertRow();

            let nameCell = row.insertCell(0)
            let markCell = row.insertCell(1)
            let deptCell = row.insertCell(2)

            nameCell.innerHTML = students[i].name
            markCell.innerHTML = students[i].marks
            deptCell.innerHTML = students[i].department
        }

        //average of marks

        var sum = 0

        for (let i = 0; i < students.length; i++) {
            sum = sum + students[i].marks

        }

        var avg = sum / students.length

        document.getElementById("avrgMark").innerHTML = "Total average marks = " + avg


        //to display only cse students
        for (let i = 0; i < students.length; i++) {
            if (students[i].department == "CSE") {
                let li = document.createElement("li");
                li.innerText = students[i].name + " - " + students[i].department;
                document.getElementById("onlyCSE").appendChild(li);
            }
        }

        //to sort by marks
        var sortedStudent = [...students]
        sortedStudent.sort((a, b) => b.marks - a.marks)

        for (let i = 0; i < students.length; i++) {
            let list = document.createElement("li")
            list.innerHTML = sortedStudent[i].name + "-" + sortedStudent[i].marks + "-" + sortedStudent[i].department

            document.getElementById("sortArray").appendChild(list)
        }


        // to add a new student

        var newStud = {
            id: students.length + 1,
            name: "Ajmal",
            marks: 49,
            department: "CSE",
        }

        students.push(newStud)

        for (let i = 0; i < students.length; i++) {
            let li = document.createElement("li");
            li.innerText = students[i].name + "-" + students[i].marks + "-" + students[i].department
            document.getElementById("toAdd").appendChild(li);
        }

        //to display below average student

        for (let i = 0; i < students.length; i++) {
            let li = document.createElement("li");
            li.innerText = students[i].name + "-" + students[i].marks + "-" + students[i].department

            if (students[i].marks < 50) {
                li.style.color = "red"
            }
            document.getElementById("belowAvg").appendChild(li);
        }



    </script>

</body>

</html>